<!DOCTYPE html>
<html>

<head>
  <title>
    Download You Tube Videos
  </title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" />
  <meta property="og:title" content="Youtube Video Downloader - Download YouTube Videos" />
  <meta property="og:description" content="Download YouTube videos" />
</head>

<body>
  <!-- <h1>
    <%= title %>
  </h1> -->
  <!-- <p>Welcome to <%= title %></p> -->
  <div class="ftco-section center">
    <div class="container">
      <p>Download YouTube videos</p>
      <form id="main-form" class="search-form relative" method="POST" role="search">
        <input id="url" type="enter video url" name="url" class="search__input" aria-label="Search"
          placeholder="Enter video url" required autofocus>
        <button id="submit" class="btn-red" type="submit">Add Video Link</button>
      </form>


      <div id="content-wrapper" class="wapper">
        <% if (videoData && videoData.player_response) { %>
          <% var miliseconds=videoData.player_response.streamingData.formats[0].approxDurationMs; var
            minutes=Math.floor(miliseconds / 60000); var seconds=((miliseconds % 60000) / 1000).toFixed(0); const
            videoTime=minutes + ":" + (seconds < 10 ? '0' : '' ) + seconds; %>
            <form id="main-form" class="search-form relative" action="download" method="POST" role="download">
              <div class="thumbnail clearfix mt-5"><input type="hidden" id="video_id" value="HYUpNJJELeE">
                <img
                  src="<%= videoData.player_response.videoDetails.thumbnail.thumbnails[videoData.player_response.videoDetails.thumbnail.thumbnails.length - 1].url %>"
                  width="300px" height="250px" alt="9Convert youtube downloader" style="width: 100%; height: 100%">
                <h2><a href="javascript:void(0);">
                    <%= videoData.player_response.videoDetails.title %>
                  </a>
                </h2>
                <p class="time">
                  <%= videoTime %>
                </p>
                <input type="hidden" name="url" value="<%= url %>" />
                <input type="hidden" name="title" value="<%= videoData.player_response.videoDetails.title %>" />
                <input type="hidden" name="videoId" value="<%= videoData.player_response.videoDetails.videoId %>" />
                <div class="downfun dispweb"> <button class="btn-action" type="submit">Download</button>
                  <div class="select-box"><select id="format" name="format">

                      <% if (videoData && videoData.player_response && videoData.player_response.streamingData &&
                        videoData.player_response.streamingData.adaptiveFormats) { %>

                        <% for(var i=0; i < videoData.player_response.streamingData.adaptiveFormats.length; i++) {%>
                          <% if (!videoData.player_response.streamingData.adaptiveFormats[i].mimeType.includes('audio'))
                            {%>
                            <option
                              value="<%= JSON.stringify(videoData.player_response.streamingData.adaptiveFormats[i]) %>">
                              <%= videoData.player_response.streamingData.adaptiveFormats[i].qualityLabel%>
                                <%= videoData.player_response.streamingData.adaptiveFormats[i].mimeType%>
                            </option>
                            <% } %>
                              <% } %>
                                <% } %>

                                  <!-- <optgroup label="mp4">
                <option
                  value="0LOyAxbbJ+igRoiCCcFoyxdnPRF1HVvL5l7v2cUErI+d3DCARO3j/2ySOzyAmbYwqRemjFL7DYFQ27t8rrf21g==">MP4
                  auto quality </option>
                <option
                  value="0LOyAxbbJ+igRoiCCcFoyxdnPRF1HVvL5l7v2cVU6cPC3DCARO3j/2ySOzyAmbYwqRemjFL7DYFQ27t8rrf21g==">1080p
                  (44.6 MB) </option>
                <option
                  value="0LOyAxbbJ+igRoiCCcFoyxdnPRF1HVvL5l7v2cVS68uC3DCARO3j/2ySOzyAmbYwqRemjFL7DYFQ27t8rrf21g==">720p
                  (18.7 MB) </option>
                <option value="0LOyAxbbJ+igRoiCCcFoyxdnPRF1HVvL5l7v2cVR4cuOkTCBWvHi+XeOOj+ehbY1shu3ilfnFY9GxrFrsbX9">
                  480p (11.9 MB) </option>
                <option value="0LOyAxbbJ+igRoiCCcFoyxdnPRF1HVvL5l7v2cVW78uOkTCBWvHi+XeOOj+ehbY1shu3ilfnFY9GxrFrsbX9">
                  360p (12.5 MB) </option>
                <option
                  value="0LOyAxbbJ+igRoiCCcFoyxdnPRF1HVvL5l7v2cVX7cuC3DCARO3j/2ySOzyAmbYwqRemjFL7DYFQ27t8rrf21g==">240p
                  (5.8 MB) </option>
                <option
                  value="0LOyAxbbJ+igRoiCCcFoyxdnPRF1HVvL5l7v2cVU7c+C3DCARO3j/2ySOzyAmbYwqRemjFL7DYFQ27t8rrf21g==">144p
                  (4.3 MB) </option>
              </optgroup>
              <optgroup label="3gp">
                <option
                  value="0LOyAxbbJ+igRoiCCcFoyxdnPRF1HVvL5gD4ncVU7c+C3DCARO3j/2ySOzyAmbYwqRemjFL7DYFQ27t8rrf21g==">144p
                  (MB) </option>
              </optgroup>
              <optgroup label="mp3">
                <option value="0LOyAxbbJ+igRoiCCcFoyxdnPRF1HVvL5l7v3sVU68OOkTCBWvHi+XeOOj+ehbY1shu3ilfnFY9GxrFrsbX9">
                  128kbps (3 MB) </option>
              </optgroup> -->
                    </select></div>
                </div>
              </div>
            </form>
            <% } %>

      </div>
    </div>
    
    <footer>
      <div class="copyright">
        <ul class="flex flex-a-i-center">
          <li>Developed By Ashish K</li>
        </ul>
      </div>
    </footer>
</body>

</html>